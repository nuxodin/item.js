<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test</title>
    <script type="module" src="../item.js"></script>
<body>

<h1>Test</h1>

<script type=module>

import { Item, effect } from '../item.js';


// define a primitive item

class PrimitiveItem extends Item {
    static isPrimitive() { return true; }
}

function eventSignal(target, eventName) {
    const signal = new PrimitiveItem();
    target.addEventListener(eventName, e => signal.value = e);
    return signal;
}


// ussage
const inputEvent = eventSignal(myInput, 'input');

effect(() => {
    myOutput.value = inputEvent.value?.target?.value ?? '';
});

myInput.addEventListener('input', e => {
    myOutput.value = e.target.value;
});


</script>

<input id="myInput" value="input">
<br>
<output id="myOutput"></output>