<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test</title>
    <script type="module" src="../item.js"></script>
<body>

<h1>Test</h1>
<p>This is a test.</p>

<script type=module>

import {Item, localStorageInstance, restApi} from "../item.js";

localStorageInstance.item('random').addEventListener('set', (e) => {
    console.log('change localStorageItem', e.detail);
});
console.log(
    localStorageInstance.item('random').value
)
localStorageInstance.item('random').value = Math.random();




const api = restApi('https://restcountries.com/v3.1');

api.item('currency').item('chf').value.then(chf => {
    console.log(chf)
    setTimeout(() => {
        api.item('currency').item('chf').value.then(chf => console.log(chf) );
    }, 100);
});



</script>