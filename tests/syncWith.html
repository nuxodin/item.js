<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test</title>
    <script type="module" src="../item.js"></script>
<body>

<h1>Test</h1>


<script type=module>


import {item} from "../item.js";
import {syncWith} from "../drivers/syncWith.js";
import {dump} from 'https://cdn.jsdelivr.net/gh/nuxodin/dump.js@1.2.1/mod.min.js';


const original = {
    a: 1,
    b: {
        c: 2,
        d: 3,
    },
}
const i = item(original);
syncWith(i, original);

i.addEventListener('changeIn', () => {
    dumpEl.innerHTML = dump(original);
});
dumpEl.innerHTML = dump(original);


setTimeout(() => i.item('a').value = new Date() , 1000);
setTimeout(() => i.item('c').value = 8, 2000);
setTimeout(() => i.item('b').value = 22, 3000);
setTimeout(() => i.item('d').value = {d1: 8, d2: 9}, 4000);

</script>

<div id=dumpEl></div>