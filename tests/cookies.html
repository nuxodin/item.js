<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test</title>
<body>

<h1>Test</h1>

<script type=module>

// local storage

import {cookieItem} from "../drivers/cookies.js";

const item = cookieItem();

item.item('random').addEventListener('set', async ({detail}) => {

    console.log(detail.newValue)
    const value = await detail.item.value;
    console.log(value)
    const old = detail.oldValue;
    document.body.insertAdjacentHTML('beforeend', 'change cookie, old: '+old+', new:'+value+'<br>');

});

const rand = Math.random().toString();
console.log(rand)
item.item('random').value = rand;


</script>
