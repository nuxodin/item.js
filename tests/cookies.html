<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Test</title>
    <script src="https://cdn.jsdelivr.net/gh/nuxodin/lazyfill@main/mod.min.js"></script>
<body>

<h1>Test</h1>

<script type=module>

// local storage

import {cookieItem} from "../drivers/cookies.js";

const item = cookieItem();

item.item('random').addEventListener('change', async ({detail}) => {
    const value = await detail.item;
    const old = detail.oldValue;
    document.body.insertAdjacentHTML('beforeend', 'change cookie, old: '+old+', new:'+value+'<br>');
});

const rand = Math.random().toString();
item.item('random').value = rand;


</script>
